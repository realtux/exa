"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[907],{8563:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"modules/configuration","title":"configuration","description":"concept","source":"@site/docs/modules/configuration.md","sourceDirName":"modules","slug":"/modules/configuration","permalink":"/modules/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/modules/configuration.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"modules","permalink":"/category/modules"},"next":{"title":"websockets","permalink":"/modules/websockets"}}');var s=o(4848),i=o(8453);const r={sidebar_position:1},a="configuration",c={},l=[{value:"concept",id:"concept",level:2},{value:"base configuration",id:"base-configuration",level:2},{value:"environment",id:"environment",level:3},{value:"http",id:"http",level:3},{value:"environment configuration",id:"environment-configuration",level:2}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"configuration",children:"configuration"})}),"\n",(0,s.jsx)(n.h2,{id:"concept",children:"concept"}),"\n",(0,s.jsx)(n.p,{children:"configuration is intended to exist in two locations, one for your base configuration, and one for environment configuration."}),"\n",(0,s.jsx)(n.h2,{id:"base-configuration",children:"base configuration"}),"\n",(0,s.jsxs)(n.p,{children:["this file allows for base configuration. this is intended to have some hard coded configuration and also some dynamic configuration by referencing environment variables with ",(0,s.jsx)(n.code,{children:"process.env"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:'title="config/master.js"',children:"export default {\n\n    environment: {\n        development: process.env.EXAENV === 'development',\n    },\n\n    /**\n     * http module configuration\n     *   - starts express web server\n     *   - creates http routes from http/*\n     */\n    http: {\n        // whether or not to start an express http server\n        use: true,\n        // host to run on, 0.0.0.0 for all hosts\n        host: '0.0.0.0',\n        // port to run on\n        port: 8118,\n        // http server base url\n        base_url: 'http://127.0.0.1:8118',\n        // whether or not to listen/handle websocket connections\n        websocket: true,\n    },\n\n    /**\n     * database module configuration\n     *   - uses sequelize.js\n     *   - creates database connection\n     */\n    database: {\n        // whether or not to initialize db models in models/*\n        use: true,\n        // sequelize dialect to use, supports: mysql | postgres\n        dialect: 'mysql',\n        username: process.env.DATABASE_USERNAME,\n        password: process.env.DATABASE_PASSWORD,\n        name: process.env.DATABASE_NAME,\n        host: process.env.DATABASE_HOST,\n        port: process.env.DATABASE_PORT,\n    },\n\n    /**\n     * console module configuration\n     *   - allows console commands ran from console/*\n     */\n    console: {\n        // whether or not to allow console commands\n        use: true,\n        // whether or not to show startup information\n        quiet: false,\n    },\n\n    /**\n     * views module configuration\n     */\n    views: {\n        // whether or not to enable views\n        use: true,\n        // which view engine to use, supports: nunjucks\n        engine: 'nunjucks',\n    },\n\n    /**\n     * public static asset configuration\n     *   - uses express.static(path)\n     */\n    public: {\n        // whether or not to serve static assets\n        use: true,\n        // base url to serve static assets on\n        base_url: '/public',\n    },\n\n    /**\n     * user defined custom configuration\n     * add anything you'd like to be avaiable at exa.config.*\n     */\n\n};\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"Warning",type:"warning",children:(0,s.jsxs)(n.p,{children:["don't put secrets in ",(0,s.jsx)(n.code,{children:"config/master.js"}),", use ",(0,s.jsx)(n.code,{children:".env"})," instead and reference with ",(0,s.jsx)(n.code,{children:"process.env.*"})]})}),"\n",(0,s.jsx)(n.h3,{id:"environment",children:"environment"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"development"})," [",(0,s.jsx)(n.code,{children:"bool"}),"] - sets development mode on or off. by default this checks the value of ",(0,s.jsx)(n.code,{children:"process.env.EXAENV"})," and resolves to ",(0,s.jsx)(n.code,{children:"false"})," if it receives any other value than ",(0,s.jsx)(n.code,{children:"development"}),".it could also be hardcoded ",(0,s.jsx)(n.code,{children:"true"})," or ",(0,s.jsx)(n.code,{children:"false"})," if desired."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"http",children:"http"}),"\n",(0,s.jsx)(n.p,{children:"this section is used to configure settings for the HTTP and WebSockets module. because the HTTP server is created using Express.js, some settings here may reflect this."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"use"})," [",(0,s.jsx)(n.code,{children:"bool"}),"] - whether or not to start an http server."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"environment-configuration",children:"environment configuration"}),"\n",(0,s.jsx)(n.p,{children:"environment configuration is great for values that are specific to a machine or environment. it's also great when external tools need to access shared environment. this prevents needing to have configuration in multiple locations and is particularly useful when docker is in use."}),"\n",(0,s.jsxs)(n.p,{children:["although optional, it's highly recommend to use a ",(0,s.jsx)(n.code,{children:".env"})," file for all dynamic variables and also secrets. a sample ",(0,s.jsx)(n.code,{children:".env"})," file is located at ",(0,s.jsx)(n.code,{children:".env.sample"})," and a good starting point is to simply copy it ",(0,s.jsx)(n.code,{children:"cp .env.sample .env"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"exa.js"})," will automatically parse any ",(0,s.jsx)(n.code,{children:".env"})," file and make it available via ",(0,s.jsx)(n.code,{children:"process.env"})," at runtime."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-env",metastring:'title=".env"',children:"EXAENV=production\n\n# optionally add values here and overwrite values in config/master.js\nDATABASE_HOST=mysql\nDATABASE_PORT=3306\nDATABASE_USERNAME=username\nDATABASE_PASSWORD=password\nDATABASE_NAME=yourdb\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>a});var t=o(6540);const s={},i=t.createContext(s);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);